---
import BaseLayout from "../../layouts/BaseLayout.astro";
import SectionHeader from "../../components/SectionHeader.astro";
import EventCard from "../../components/EventCard.astro";
import EventFilterBar from "../../components/EventFilterBar.astro";
import events from "../../data/events.json";

const sortedEvents = events.sort(
    (a, b) => new Date(a.date).getTime() - new Date(b.date).getTime(),
);
---

<BaseLayout title="Events | Venue Nights | Perth Nightlife">
    <section class="py-12 md:py-20">
        <div class="container mx-auto px-4">
            <SectionHeader
                title="Upcoming Events"
                subtitle="The hottest DJ nights and parties in Perth."
            />

            <EventFilterBar />

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {sortedEvents.map((event) => <EventCard {...event} />)}
            </div>
        </div>
    </section>
</BaseLayout>

---
import "../styles/global.css";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

interface Props {
    title: string;
    description?: string;
}

const {
    title,
    description = "Venue Nights - Perth's Premier Nightlife Destination",
} = Astro.props;
const siteBase = "/bar-night-venue";

import { getImage } from "astro:assets";
import ogImageSrc from "../assets/images/og-image.webp";
const optimizedOg = await getImage({src: ogImageSrc, format: 'png'});
const ogImageUrl = optimizedOg.src; 

---

<!doctype html>
<html lang="en" class="scroll-smooth">
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content={description} />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href=`${siteBase}/favicon.svg` />
        <meta name="generator" content={Astro.generator} />
        <title>{title}</title>

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content={Astro.url} />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />
        <meta property="og:image" content={ogImageUrl} />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content={Astro.url} />
        <meta property="twitter:title" content={title} />
        <meta property="twitter:description" content={description} />
        <meta property="twitter:image" content={ogImageUrl} />

        <script type="application/ld+json" define:vars={{ ogImageUrl }}>
            {
                "@context": "https://schema.org",
                "@type": "NightClub",
                "name": "Venue Nights",
                "image": ogImageUrl,
                "url": "https://github.com/amplifycreativelab/bar-night-venue/",
                "telephone": "0400000000",
                "address": {
                    "@type": "PostalAddress",
                    "streetAddress": "123 Murray Street",
                    "addressLocality": "Perth",
                    "addressRegion": "WA",
                    "postalCode": "6000",
                    "addressCountry": "AU"
                },
                "geo": {
                    "@type": "GeoCoordinates",
                    "latitude": -31.9505,
                    "longitude": 115.8605
                },
                "openingHoursSpecification": [
                    {
                        "@type": "OpeningHoursSpecification",
                        "dayOfWeek": ["Thursday"],
                        "opens": "20:00",
                        "closes": "02:00"
                    },
                    {
                        "@type": "OpeningHoursSpecification",
                        "dayOfWeek": ["Friday", "Saturday"],
                        "opens": "21:00",
                        "closes": "04:00"
                    },
                    {
                        "@type": "OpeningHoursSpecification",
                        "dayOfWeek": ["Sunday"],
                        "opens": "20:00",
                        "closes": "00:00"
                    }
                ],
                "priceRange": "$$"
            }
        </script>
    </head>
    <body
        class="bg-brand-bg text-brand-text font-body min-h-screen flex flex-col"
    >
        <!-- Skip Link -->
        <a
            href="#main-content"
            class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 z-[100] bg-brand-accent text-white px-4 py-2 rounded shadow-lg"
        >
            Skip to content
        </a>

        <Header />

        <main id="main-content" class="flex-grow pt-20">
            <slot />
        </main>

        <Footer />
    </body>
</html>
